#!/bin/sh

names="English (US)\nSerbian (Cyrillic)\nSerbian (Latin)\nGerman\nRussian"
codes="us\nrs\nrs(latin)\nde\nru"

sel=$(printf "$names" | dmenu -c -vi -p "Keyboard layout to use:")
[ -z "$sel" ] && exit

idx=$(printf "$names" | grep -nFx "$sel" | cut -d: -f1)
layout=$(printf "$codes" | sed -n "${idx}p")

setxkbmap "$layout" && kill -36 $(pidof dwmblocks)
