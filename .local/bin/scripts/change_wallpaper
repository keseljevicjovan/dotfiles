#!/bin/sh

WALLPAPERS_DIR="$HOME/.local/share/wallpapers" && cd $WALLPAPERS_DIR

command -v nsxiv >/dev/null && \
  SELECTED=$(nsxiv -otb * | sed "s|$WALLPAPERS_DIR/||") || \
  SELECTED=$(find -type f -printf "%P\n" | dmenu -vi -i -p "Select Wallpaper:")

[ -n "$SELECTED" ] && (
  feh --bg-scale "$WALLPAPERS_DIR/$SELECTED" && 
  dunstify -i "$WALLPAPERS_DIR/$SELECTED" "Wallpaper Changed" "$SELECTED"
)
